import LandingPage from './LandingPage';
import VulnerabilityHeader from '../VulnerabilityHeader/VulnerabilityHeader';
import VulnerabilitiesCves from '../CVEs/CVEs';
import toJson from 'enzyme-to-json';
import { useDispatch, useSelector } from 'react-redux';

import { shallow } from 'enzyme';

jest.mock("react-redux", () => ({
    ...jest.requireActual("react-redux"),
    useSelector: jest.fn(),
    useDispatch: jest.fn()
}));

describe('CVEs: ', () => {
    it('Should match the snapshot', () => {
        const wrapper =  shallow(<LandingPage />);
        expect(toJson(wrapper)).toMatchSnapshot();
    })
    it('Should render VulnerabilitiesHeader with props showBreadcrumb = false', () => {
        const wrapper =  shallow(<LandingPage />);
        expect(wrapper.find(VulnerabilityHeader)).toHaveLength(1);
        expect(wrapper.find(VulnerabilityHeader).prop('showBreadcrumb')).toBeFalsy();
    });

    it('Should render VulnerabilitiesCves', () => {
        const wrapper =  shallow(<LandingPage />);
        expect(wrapper.find(VulnerabilitiesCves)).toHaveLength(1);
    });
})