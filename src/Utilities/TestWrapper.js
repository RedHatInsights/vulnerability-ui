import propTypes from 'prop-types';
import { BrowserRouter as Router } from 'react-router-dom';
import { Provider } from 'react-redux';
import { IntlProvider } from '@redhat-cloud-services/frontend-components-translations';

const TestWrapper = ({ children, store }) => {
    return (
        <IntlProvider locale="en">
            { store ?
                <Provider store={store}>
                    <Router>
                        {children}
                    </Router>
                </Provider> : children
            }
        </IntlProvider>
    );
};

TestWrapper.propTypes = {
    children: propTypes.node,
    store: propTypes.object
};

export const createTestWrapper = (Wrapper = TestWrapper, props) => {
  return function CreatedWrapper({ children }) { // eslint-disable-line
        return <Wrapper {...props}>{children}</Wrapper>;
    };
};

export default TestWrapper;
