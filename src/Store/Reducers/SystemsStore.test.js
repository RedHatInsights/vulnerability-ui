import * as ActionTypes from "../ActionTypes";
import { initialState, SystemsReducer } from "./SystemsStore";

let action;
describe("SystemsReducer:", () => {
    beforeEach(() => {
        action = {
            type: undefined,
            payload: {}
        };
    });

    it("Should return initial state", () => {
        expect(SystemsReducer(undefined, {})).toEqual(initialState);
    });

    it("Should set initial state on empty action", () => {
        expect(SystemsReducer(undefined, action)).toEqual(initialState);
    });

    it("Should start loading systems list", () => {
        action.type = ActionTypes.FETCH_SYSTEMS + "_PENDING";
        expect(SystemsReducer(undefined, action).isLoading).toEqual(true);
    });

    it("Should load systems list", () => {
        let testObject = { testObject: "value" };
        action.type = ActionTypes.FETCH_SYSTEMS + "_FULFILLED";
        action.payload = testObject;
        expect(SystemsReducer(undefined, action)).toEqual({
            isLoading: false,
            payload: testObject
        });
    });
});
