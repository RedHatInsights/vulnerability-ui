import {
    Card,
    CardBody,
    Grid,
    GridItem,
    Split,
    SplitItem,
    Stack,
    StackItem,
    Text,
    TextContent,
    TextVariants,
    Title
} from '@patternfly/react-core';
import propTypes from 'prop-types';
import React from 'react';
import ImpactBadge from '../ImpactBadge/ImpactBadge';
import WithLoader from '../WithLoader/WithLoader';
import './CVEPageDetails.scss';

const CVEPageDetails = props => {
    return (
        <Card className="cve-overview-card">
            <CardBody>
                <Stack gutter="lg">
                    <StackItem className={'cve-header'}>
                        <WithLoader loading={props.data.isLoading}>
                            <Split>
                                <SplitItem isMain={true} className={'cve-title'}>
                                    <Grid>
                                        <GridItem span={1}>
                                            <ImpactBadge impact={props.data.data.impact} hastooltip={false} />
                                        </GridItem>
                                        <GridItem span={11}>
                                            <Title size="xl">{props.data.data.synopsis}</Title>
                                        </GridItem>
                                        <GridItem span={1}>{}</GridItem>
                                        <GridItem span={11}>
                                            <Title size="md">CVSS Base Score: {props.data.data.cvss3_score}</Title>
                                        </GridItem>
                                    </Grid>
                                </SplitItem>
                                <SplitItem>
                                    <Title size="md">Publish Date: {props.data.data.public_date}</Title>
                                </SplitItem>
                            </Split>
                        </WithLoader>
                    </StackItem>

                    <StackItem>
                        <WithLoader loading={props.data.isLoading}>
                            <Title size="md">Description</Title>
                            <TextContent>
                                <Text component={TextVariants.p}>{props.data.data.description}</Text>
                            </TextContent>
                        </WithLoader>
                    </StackItem>
                    <StackItem>
                        <Grid>
                            <GridItem span={2}>{props.data.data.rh_link}</GridItem>
                            <GridItem span={2}>{props.data.data.mitre_link}</GridItem>
                        </Grid>
                    </StackItem>
                </Stack>
            </CardBody>
        </Card>
    );
};

CVEPageDetails.propTypes = {
    data: propTypes.object
};

export default CVEPageDetails;
