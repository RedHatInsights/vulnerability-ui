import React from 'react';
import propTypes from 'prop-types';
import { Link } from 'react-router-dom';
import { Breadcrumb as PfBreadcrumb, BreadcrumbItem } from '@patternfly/react-core';
import WithLoader, { LoaderType }  from '../WithLoader/WithLoader';

import { PATHS } from '../../../Helpers/constants';

const Breadcrumb = ({ breadcrumbs }) => {
    return (
        <PfBreadcrumb key="PfBreadcrumb">
            <BreadcrumbItem key={PATHS.home.title} isActive={false}>
                <Link to={PATHS.home.to}>{PATHS.home.title}</Link>
            </BreadcrumbItem>

            {breadcrumbs?.map(item => (
                <BreadcrumbItem key={item.title} isActive={item.isActive}>
                    <WithLoader
                        isLoading={!item.loaded}
                        variant={LoaderType.inlineSkeleton}
                        style={{ minWidth: '100px' }}
                    >
                        {item.isActive ? item.title : <Link to={item.to}>{item.title}</Link>}
                    </WithLoader>
                </BreadcrumbItem>
            ))}
        </PfBreadcrumb>
    );
};

Breadcrumb.propTypes = {
    breadcrumbs: propTypes.array
};

export default Breadcrumb;
