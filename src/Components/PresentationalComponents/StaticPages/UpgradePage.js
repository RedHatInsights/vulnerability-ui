import React, { useEffect } from 'react';
import propTypes from 'prop-types';
import { injectIntl } from 'react-intl';
import { CloudServerIcon } from '@patternfly/react-icons';
import { Main } from '@redhat-cloud-services/frontend-components/Main';
import { Bullseye, Button, EmptyState, EmptyStateBody, EmptyStateIcon, Title } from '@patternfly/react-core';

import messages from '../../../Messages';
import Header from '../../PresentationalComponents/Header/Header';
import useChrome from '@redhat-cloud-services/frontend-components/useChrome';

const UpgradePage = ({ intl }) => {
    const chrome = useChrome();

    useEffect(() => {
        chrome.hideGlobalFilter(true);

        const unregister = chrome.on('APP_NAVIGATION', () => {
            chrome.hideGlobalFilter(true);
        });

        return () => unregister();
    }, []);

    return (
        <React.Fragment>
            <Header
                showBreadcrumb={false}
                title={intl.formatMessage(messages.vulnerabilitiesHeader)}
            />
            <Main>
                <Bullseye>
                    <EmptyState>
                        <EmptyStateIcon icon={CloudServerIcon} />
                        <Title headingLevel="h5" size="lg">
                            {intl.formatMessage(messages.emptyPageTitle)}
                        </Title>
                        <EmptyStateBody>
                            {intl.formatMessage(messages.emptyPageBody)}
                        </EmptyStateBody>
                        <Button
                            variant="primary"
                            component="a"
                            href="https://access.redhat.com/products/red-hat-insights#getstarted"
                        >
                            {intl.formatMessage(messages.emptyPageLearnMoreButton)}
                        </Button>
                    </EmptyState>
                </Bullseye>
            </Main>
        </React.Fragment>
    );
};

UpgradePage.propTypes = {
    intl: propTypes.any
};

export default injectIntl(UpgradePage);
