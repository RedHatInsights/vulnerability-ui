import React from 'react';
import propTypes from 'prop-types';
import { FormattedMessage } from 'react-intl';
import {
    Bullseye,
    Button,
    EmptyStateVariant,
    EmptyState,
    EmptyStateBody,
    EmptyStateIcon,
    Text,
    TextVariants,
    TextContent,
    Title
} from '@patternfly/react-core';
import { ExternalLinkAltIcon, SecurityIcon } from '@patternfly/react-icons';
import messages from '../../../Messages';
import { NotAuthorized as FECNotAuthorized } from '@redhat-cloud-services/frontend-components/NotAuthorized';
import { LockIcon } from '@patternfly/react-icons';
import { intl } from '../../../Utilities/IntlProvider';

// Reports that no CVEs were found after filtering results
export const FilterNotFoundForCVE = (
    <Bullseye style={{ height: 'auto' }}>
        <EmptyState variant={EmptyStateVariant.large}>
            <Title headingLevel="h5" size="lg">
                <FormattedMessage {...messages.emptyStateNoMatchingCves} />
            </Title>
            <TextContent>
                <EmptyStateBody style={{ whiteSpace: 'normal' }}>
                    <FormattedMessage {...messages.emptyStateMaybeFollowing} />
                    <Text>
                        <FormattedMessage {...messages.emptyStateNoCveReported} />
                    </Text>
                    <Text component={TextVariants.p}>
                        <FormattedMessage {...messages.emptyStateForMoreInfo} values={{ link: (
                            <a href="https://access.redhat.com/security/team/contact/" target="__blank" rel="noopener noreferrer">
                                <FormattedMessage {...messages.emptyStateForMoreLink} />  <ExternalLinkAltIcon />
                            </a>
                        ) }} />
                    </Text>
                </EmptyStateBody>
            </TextContent>
        </EmptyState>
    </Bullseye>
);

export const FilterNotFoundForSystem = (
    <Bullseye style={{ height: 'auto' }}>
        <EmptyState variant={EmptyStateVariant.large}>
            <Title headingLevel="h5" size="lg">
                <FormattedMessage {...messages.emptyStateNoCvesReported} />
            </Title>
            <TextContent>
                <EmptyStateBody style={{ whiteSpace: 'normal' }}>
                    <Text>
                        <FormattedMessage {...messages.emptyStateNoCveReported} />
                    </Text>
                    <Text component={TextVariants.p}>
                        <FormattedMessage {...messages.emptyStateIfCveForSystem} values={{ link: (
                            <a href="https://access.redhat.com/security/team/contact/" target="__blank" rel="noopener noreferrer">
                                <FormattedMessage {...messages.emptyStateForMoreLink} />  <ExternalLinkAltIcon />
                            </a>
                        ) }}/>
                    </Text>
                </EmptyStateBody>
            </TextContent>
        </EmptyState>
    </Bullseye>
);

export const EmptyCVEListForSystem = (
    <Bullseye style={{ height: 'auto' }}>
        <EmptyState variant={EmptyStateVariant.large}>
            <Title headingLevel="h5" size="lg">
                <FormattedMessage {...messages.emptyStateNoReportedSystem} />
            </Title>
            <TextContent>
                <EmptyStateBody style={{ whiteSpace: 'normal' }}>
                    <Text>
                        <FormattedMessage {...messages.emptyStateNoCveAffects} />
                    </Text>
                    <Text component={TextVariants.p}>
                        <FormattedMessage {...messages.emptyStateIfCveForSystem} values={{ link: (
                            <a href="https://access.redhat.com/security/team/contact/" target="__blank" rel="noopener noreferrer">
                                <FormattedMessage {...messages.emptyStateForMoreLink} />  <ExternalLinkAltIcon />
                            </a>
                        ) }}/>
                    </Text>

                </EmptyStateBody>
            </TextContent>
        </EmptyState>
    </Bullseye>
);

export const EmptyExcludedSystem = ({ buttonAction }) => (
    <Bullseye>
        <EmptyState variant={EmptyStateVariant.large}>
            <EmptyStateIcon icon={SecurityIcon} size={'sm'} />
            <Title headingLevel="h5" size="lg">
                <FormattedMessage {...messages.emptyStateSystemExcludedTitle} />
            </Title>
            <EmptyStateBody>
                <FormattedMessage {...messages.emptyStateSystemExcludedBody} />
            </EmptyStateBody>
            <Button variant="primary" component="a" onClick={buttonAction}>
                <FormattedMessage {...messages.emptyStateSystemResumeAnalysis} />
            </Button>
        </EmptyState>
    </Bullseye>
);

EmptyExcludedSystem.propTypes = {
    buttonAction: propTypes.func
};

export const EmptyCVEList = (
    <Bullseye style={{ height: 'auto' }}>
        <EmptyState variant={EmptyStateVariant.large}>
            <Title headingLevel="h5" size="lg">
                <FormattedMessage {...messages.emptyStateNoReportedSystem} />
            </Title>
            <TextContent>
                <EmptyStateBody style={{ whiteSpace: 'normal' }}>
                    <Text>
                        <FormattedMessage {...messages.emptyStateNoCveAffects} />
                    </Text>
                    <FormattedMessage {...messages.emptyStateIfCveForSystems} values={{ link: (
                        <a href="https://access.redhat.com/security/team/contact/" target="__blank" rel="noopener noreferrer">
                            <FormattedMessage {...messages.emptyStateForMoreLink} /> <ExternalLinkAltIcon />
                        </a>
                    ) }} />
                </EmptyStateBody>
            </TextContent>
        </EmptyState>
    </Bullseye>
);

export const NotAuthorized = () => (
    <FECNotAuthorized
        icon={LockIcon}
        title={intl.formatMessage(messages.notAuthorizedTitle)}
        description={intl.formatMessage(messages.notAuthorizedDescription)}
        prevPageButtonText={intl.formatMessage(messages.returnToPreviousPage)}
        toLandingPageText={intl.formatMessage(messages.returnToLandingPage)}
    />
);
