import React from 'react';
import PropType from 'prop-types';
import { Tooltip } from '@patternfly/react-core';
import { ServerAltIcon } from '@patternfly/react-icons';
import { FormattedMessage } from 'react-intl';
import messages from '../../../Messages';
import { STATUS_OPTIONS } from '../../../Helpers/constants';

const StatusColumn = ({ cveStatusId, systemStatusId }) => {
    const status = STATUS_OPTIONS.find(status => parseInt(status.value) === systemStatusId);
    return (
        <span className="icon-with-label">
            {cveStatusId !== systemStatusId  &&
                <Tooltip content={<FormattedMessage {...messages.onlyThisSystemCvePair} />}>
                    <ServerAltIcon />
                </Tooltip>
            }
            {
                status && status.label
            }
        </span>
    );
};

StatusColumn.defautProps = {
    systemStatusId: null
};

StatusColumn.propTypes = {
    cveStatusId: PropType.number,
    systemStatusId: PropType.number
};

export default StatusColumn;
