import React from 'react';
import SystemNameColumn from './SystemNameColumn'
import { render, screen } from '@testing-library/react';
import { intl } from '../../../Utilities/IntlProvider';
import messages from '../../../Messages';
import '@testing-library/jest-dom';

describe('SystemNameColumn', () => {
    it('Should match snapshot when not opt out', () => {
        render(<SystemNameColumn item={{ title: "Some system" }}/>)

        expect(screen.getByText('Some system')).toBeVisible();
        expect(screen.queryByText(intl.formatMessage(messages.systemsTableDisabled))).toBeFalsy();
    });

    it('Should match snapshot when opt out', () => {
        render(<SystemNameColumn optOut item={{ title: "Some opt-out system" }}/>)

        expect(screen.getByText(intl.formatMessage(messages.systemsTableDisabled))).toBeVisible();
    });
})
