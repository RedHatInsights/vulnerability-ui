
import React, { Fragment, useState, useEffect } from 'react';
import { getExecutiveReport } from '../../../Helpers/APIHelper';
import ExecutiveReport from './ExecutiveReport';
import ExportIcon from '@patternfly/react-icons/dist/js/icons/export-icon';

const DownloadExecutive = () => {
    const [data, setData] = useState();
    const [isLoading, setIsLoading] = useState(true);

    const label = (
        <Fragment>
            <ExportIcon style={{ color: 'var(--pf-global--link--Color)', marginRight: '5px' }}/> Download executive report
        </Fragment>
    );

    useEffect(() => {
        getExecutiveReport()
        .then(response => {
            setData(response);
            setIsLoading(false);
        });
    }, []);

    return (
        <div style={{ float: 'right' }} >
            {!isLoading  && <ExecutiveReport  data={data} label={label}/> }
        </div>
    );

};

export default DownloadExecutive;
