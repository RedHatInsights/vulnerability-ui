import React, { useState } from 'react';
import PropTypes from 'prop-types';
import { useIntl } from 'react-intl';
import {
    Dropdown,
    DropdownToggle
} from '@patternfly/react-core';
import { CaretDownIcon } from '@patternfly/react-icons';
import messages from '../../../Messages';

const BaseDropdown = ({ dropdownItems, disabled, ...props }) => {
    const [isOpen, setIsOpen] = useState(false);
    const intl = useIntl();

    return (
        <Dropdown
            toggle={
                <DropdownToggle
                    data-testid="dropdown-toggle"
                    onToggle={() => setIsOpen(!isOpen)}
                    toggleIndicator={CaretDownIcon}
                    isDisabled={disabled}
                    className="dropdown-toggle"
                >
                    {intl.formatMessage(messages.actions)}
                </DropdownToggle>
            }
            isOpen={isOpen}
            dropdownItems={dropdownItems}
            {...props}
        />
    );
};

BaseDropdown.propTypes = {
    dropdownItems: PropTypes.array,
    disabled: PropTypes.bool
};

export default BaseDropdown;

