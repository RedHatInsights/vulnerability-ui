/* eslint-disable no-console */

import React from 'react';
import propTypes from 'prop-types';
import { Table as PfTable, TableBody, TableHeader } from '@patternfly/react-table';
import useSort from '../../../Hooks/Table/useSort';

const Table = ({
    store,
    cells,
    rows,
    onSelect,
    offset,
    callback,
    ...props
}) => {
    const [sortBy, onSort] = useSort(cells, store, offset, callback);

    const tableProps = { ...store.metadata.total_items > 0 && { onSelect, onSort } };

    console.log(store.metadata.sort);
    return (
        <PfTable
            arial-label={'Table'}
            cells={cells}
            rows={rows}
            sortBy={sortBy}
            canSelectAll={false}
            { ...tableProps }
            { ...props }
        >
            <TableHeader />
            <TableBody />
        </PfTable>
    );
};

Table.propTypes = {
    store: propTypes.object,
    onSelect: propTypes.func,
    callback: propTypes.func,
    onSort: propTypes.func,
    cells: propTypes.array,
    rows: propTypes.array,
    offset: propTypes.number
};

export default Table;
