import React, { Fragment } from 'react';
import PropTypes from 'prop-types';
import { Section, Panel, PanelItem } from '@redhat-cloud-services/frontend-components-pdf-generator';
import { DateFormat as dateFormat } from '@redhat-cloud-services/frontend-components';
import { Text } from '@react-pdf/renderer';

import CounterItem from '../Common/CounterItem';
import messages from '../../../../Messages';

import styles from '../Common/styles';

const FirstPage = ({ systems, cves, rules, intl }) => {
    return (
        <Fragment key="exec-first-page">
            <Text style={[styles.generated, styles.mb24]}>
                {intl.formatMessage(messages.executiveReportGenerated,
                    {
                        date: dateFormat({ date: new Date(), type: 'exact' }).props.children
                    }
                )}
            </Text>
            <Text style={styles.mb16}>
                {intl.formatMessage(messages.executiveReportHeader)}
            </Text>
            <Text style={styles.mb8}>
                {intl.formatMessage(messages.executiveReportSubHeader, {
                    systems: (
                        <Text style={styles.bold}>
                            {intl.formatMessage(messages.executiveReportHeaderSystems, { systems })}
                        </Text>
                    ),
                    cves: (
                        <Text style={styles.bold}>
                            {intl.formatMessage(messages.executiveReportHeaderCVEs, { cves })}
                        </Text>
                    ),
                    rules: (
                        <Text style={styles.bold}>
                            {intl.formatMessage(messages.executiveReportHeaderRules, { rules })}
                        </Text>
                    )
                })}
            </Text>

            <Section withColumn={false}>
                <Panel>
                    <PanelItem style={styles.counterPanel}>
                        <CounterItem
                            counter={systems}
                            label={intl.formatMessage(messages.executiveReportAnalyzedSystems, { systems })}
                        />
                    </PanelItem>
                    <PanelItem style={styles.counterPanel}>
                        <CounterItem
                            counter={cves}
                            label={intl.formatMessage(messages.executiveReportAnalyzedCVEs, { cves })}
                        />
                    </PanelItem>
                    <PanelItem style={styles.counterPanel}>
                        <CounterItem
                            counter={rules}
                            label={intl.formatMessage(messages.executiveReportAnalyzedRules, { rules })}
                        />
                    </PanelItem>
                </Panel>

            </Section>
        </Fragment>
    );
};

FirstPage.propTypes = {
    systems: PropTypes.number,
    cves: PropTypes.number,
    rules: PropTypes.number,
    intl: PropTypes.any
};
export default FirstPage;
