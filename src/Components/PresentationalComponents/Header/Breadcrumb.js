import React from 'react';
import propTypes from 'prop-types';
import { Link } from 'react-router-dom';
import { Breadcrumb as PfBreadcrumb, BreadcrumbItem } from '@patternfly/react-core';
import { Skeleton } from '@redhat-cloud-services/frontend-components/Skeleton';

const Breadcrumb = ({ breadcrumbs }) => (
    <PfBreadcrumb key="PfBreadcrumb" className="pf-u-mb-md">
        {breadcrumbs?.map(item => (
            <BreadcrumbItem key={item.title} isActive={item.isActive}>
                {
                    item.isLoaded
                        ? item.isActive
                            ? item.title
                            : <Link to={item.to}>{item.title}</Link>
                        : <Skeleton className="breadcrumb-skeleton" />
                }
            </BreadcrumbItem>
        ))}
    </PfBreadcrumb>
);

Breadcrumb.propTypes = {
    breadcrumbs: propTypes.arrayOf(propTypes.shape({
        title: propTypes.string,
        to: propTypes.string,
        isActive: propTypes.bool,
        isLoaded: propTypes.bool
    }))
};

export default Breadcrumb;
