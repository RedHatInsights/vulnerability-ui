import { Bullseye, Button, EmptyState, EmptyStateBody, EmptyStateIcon, Page, Title } from '@patternfly/react-core';
import { LockIcon } from '@patternfly/react-icons';
import { Main } from '@redhat-cloud-services/frontend-components';
import React from 'react';
import propTypes from 'prop-types';
import { withRouter } from 'react-router-dom';
import VulnerabilityHeader from '../VulnerabilityHeader/VulnerabilityHeader';
import { injectIntl } from 'react-intl';
import messages from '../../../Messages';

const  NoAccessPage = (props) => {
    return (
        <Page>
            <VulnerabilityHeader
                title={props.intl.formatMessage(messages.vulnerabilitiesHeader)}
                showTabs={false}
                showBreadcrumb={false} />
            <Main>
                <Bullseye>
                    <EmptyState>
                        <EmptyStateIcon icon={LockIcon} />
                        <Title headingLevel="h5" size="lg">
                            {props.intl.formatMessage(messages.hasNoAccess)}
                        </Title>
                        <EmptyStateBody>
                            {props.intl.formatMessage(messages.contactYouOrganization)}
                        </EmptyStateBody>
                        {
                            document.referrer ?
                                <Button variant="primary" onClick={ () => history.back() }>
                                    {props.intl.formatMessage(messages.returnPreviousPage)}
                                </Button> :
                                <Button variant="primary" component="a" href=".">
                                    {props.intl.formatMessage(messages.returnToLandingPage)}
                                </Button>
                        }
                    </EmptyState>
                </Bullseye>
            </Main>
        </Page>
    );
};

NoAccessPage.propTypes = {
    intl: propTypes.any
};
export default injectIntl(
    withRouter(NoAccessPage)
);
