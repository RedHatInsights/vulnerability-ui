import FirstPage from './FirstPage';
import toJson from 'enzyme-to-json';
import { mountWithIntl } from '../../../../Helpers/MiscHelper';
import { BrowserRouter as Router } from 'react-router-dom';
import configureStore from 'redux-mock-store';
import { Provider } from 'react-redux';
import { intl } from '../../../../Utilities/IntlProvider';

jest.useFakeTimers('modern').setSystemTime(new Date('2020-01-01').getTime());

const mockStore = configureStore([store => next => action => {}]);
let store = mockStore({ });

const data = {
    "totalSystems": 147,
    "totalCves": 595,
    "totalRules": 11
}

describe('FirstPage component', () => {
    it('Should match snapshot', () => {
        const wrapper = mountWithIntl(
            <Provider store={store}>
                <Router>
                    <FirstPage data={data} intl={intl} />
                </Router>
            </Provider>);        
            
        expect(toJson(wrapper)).toMatchSnapshot();
    })
});
