import SelectCustomSorter from './SelectCustomSorter';

const selectProps = null
const options = [
    {value: "op1", label: "option 1"},
    {value: "op2", label: "option 2"},
    {value: "op3", label: "option 3"}
]

describe('SelectCustomSorter component', () => {
    it('Should have selected second item by default.', () => {
        let sorterData = "op2"
        const setSorterData = newData => sorterData = newData

        const sorter = mount(
            <SelectCustomSorter sorterData={sorterData} setSorterData={setSorterData} selectProps={selectProps} options={options} />
        );

        sorter.find("button").first().simulate("click"); // open select menu

        expect(sorter.find("button").at(1).text()).toEqual("option 1"); // check for value of first selectable item
        expect(sorter.find("button").at(2).text()).toEqual(sorter.find("button").first().text()); // check if second selectable item is selected
        expect(sorter.find("button").at(3).text()).toEqual("option 3"); // check for value of third selectable item
    });
});
