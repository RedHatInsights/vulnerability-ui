import LandingPage from './LandingPage';
import Header from '../../PresentationalComponents/Header/Header';
import VulnerabilitiesCves from '../CVEs/CVEs';
import toJson from 'enzyme-to-json';
import { shallowWithIntl } from '../../../Helpers/enzyme-test-helper';

jest.mock("react-redux", () => ({
    ...jest.requireActual("react-redux"),
    useSelector: jest.fn(),
    useDispatch: jest.fn()
}));

jest.mock("react-intl", () => ({
    ...jest.requireActual("react-intl"),
    useIntl: jest.fn(),
}));

describe('CVEs: ', () => {
    it('Should match the snapshot', () => {
        const wrapper =  shallowWithIntl(<LandingPage />);
        expect(toJson(wrapper)).toMatchSnapshot();
    })
    it('Should render Header with props showBreadcrumb = false', () => {
        const wrapper =  shallowWithIntl(<LandingPage />);
        expect(wrapper.find(Header)).toHaveLength(1);
        expect(wrapper.find(Header).prop('showBreadcrumb')).toBeFalsy();
    });

    it('Should render VulnerabilitiesCves', () => {
        const wrapper =  shallowWithIntl(<LandingPage />);
        expect(wrapper.find(VulnerabilitiesCves)).toHaveLength(1);
    });
})