import React from 'react';
import toJson from 'enzyme-to-json';
import { mountWithIntl } from '../../../Helpers/MiscHelper';
import ErrorHandler from './ErrorHandler';

describe('ErrorHandler component', () => {
    it('should show Unauthorized error component on 403 error', () => {
        const errorComponent = mountWithIntl(<ErrorHandler code={403}/>);
        expect(toJson(errorComponent)).toMatchSnapshot();
    });

    it('should show Invalid Object error component on 404 error', () => {
        const errorComponent = mountWithIntl(<ErrorHandler code={404}/>);
        expect(toJson(errorComponent)).toMatchSnapshot();
    });

    it('should show Unavailable error component on 5XX error', () => {
        const errorComponent500 = mountWithIntl(<ErrorHandler code={500}/>);
        expect(toJson(errorComponent500)).toMatchSnapshot();

        const errorComponent502 = mountWithIntl(<ErrorHandler code={502}/>);
        expect(toJson(errorComponent502)).toMatchSnapshot();

        const errorComponent503 = mountWithIntl(<ErrorHandler code={503}/>);
        expect(toJson(errorComponent503)).toMatchSnapshot();
    });

    it('should show Generic error component on other error', () => {
        const errorComponent = mountWithIntl(<ErrorHandler code={413}/>);
        expect(toJson(errorComponent)).toMatchSnapshot();
    });
});
