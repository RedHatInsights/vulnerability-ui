import propTypes from 'prop-types';
import React from 'react';
import ContentLoader, { BulletList, List } from 'react-content-loader';

const WithLoader = props => {
    if (props === undefined || props.loading !== false) {
        switch (props.variant) {
            case 'cvePageOverviewItem':
                return <CVEPageOverviewItemLoader />;
            case 'list':
                return <List />;
            case 'bulletList':
                return <BulletList />;
            case 'trendBox':
                return <TrendBoxLoader />;
            case 'currentVulnerabilitiesItem':
                return <CurrentVulnerabilitiesItemLoader />;
            default:
                return <ContentLoader style={{ maxHeight: '100px', width: '100%' }} width="100%" />;
        }
    }

    return props.children;
};

// Loaders
const CVEPageOverviewItemLoader = () => {
    return (
        <ContentLoader height={61} width={120}>
            <rect x="35" y="0" rx="0" ry="0" width="50" height="35" />
            <rect x="0" y="45" rx="0" ry="0" width="120" height="16" />
        </ContentLoader>
    );
};

const TrendBoxLoader = () => {
    return (
        <ContentLoader height={100} width={300}>
            <rect x="388.58" y="109.13" rx="0" ry="0" width="0" height="0" />
            <rect x="11.58" y="16.13" rx="0" ry="0" width="37" height="62" />
            <rect x="52.58" y="52.13" rx="0" ry="0" width="17" height="26" />
            <rect x="76.58" y="52.13" rx="0" ry="0" width="17" height="26" />
            <rect x="4.58" y="82.13" rx="0" ry="0" width="154" height="22" />
        </ContentLoader>
    );
};

const CurrentVulnerabilitiesItemLoader = () => {
    return (
        <ContentLoader height={50} width={200} speed={2} primaryColor="#f3f3f3" secondaryColor="#ecebeb">
            <rect x="82.58" y="15.13" rx="0" ry="0" width="110.88" height="21.42" />
            <circle cx="25" cy="25" r="25" />
        </ContentLoader>
    );
};

WithLoader.propTypes = {
    loading: propTypes.bool,
    variant: propTypes.string
};

export default WithLoader;
