import React,  { useState } from 'react';
import { Page, Gallery, GalleryItem, Card, CardTitle, CardBody, CardFooter } from '@patternfly/react-core';
import { Main } from '@redhat-cloud-services/frontend-components';
import VulnerabilityHeader from '../VulnerabilityHeader/VulnerabilityHeader';
import { ChartPieIcon, FileAltIcon } from '@patternfly/react-icons';
import DownloadExecutive from './DownloadExecutive';
import ReportConfigModal from '../Modals/ReportConfigModal';
import messages from '../../../Messages';
import { intl } from '../../../Utilities/IntlProvider';

const ReportsPage = () => {
    const [isModalOpen, setModalOpen] = useState(false);

    const showReportConfigModal = () => {
        setModalOpen(true);
    };

    const hideReportConfigModal = () => {
        setModalOpen(false);
    };

    return (
        <Page>
            <VulnerabilityHeader title={intl.formatMessage(messages.reportsPageTitle)} showBreadcrumb={false}/>
            <Main>
                <Gallery hasGutter>
                    <GalleryItem>
                        <Card>
                            <CardTitle>
                                <ChartPieIcon size="lg" color="var(--pf-global--link--Color)"/>
                                <span className="pf-u-ml-sm" style={{ verticalAlign: '0.3rem' }}>
                                    {intl.formatMessage(messages.executiveReportCardTitle)}
                                </span>
                            </CardTitle>
                            <CardBody>
                                {intl.formatMessage(messages.executiveReportCardDescription)}
                            </CardBody>
                            <CardFooter>
                                <DownloadExecutive hasIcon={false}/>
                            </CardFooter>
                        </Card>
                    </GalleryItem>
                    <GalleryItem>
                        <Card>
                            <CardTitle>
                                <FileAltIcon size="lg" color="var(--pf-global--Color--200)"/>
                                <span className="pf-u-ml-sm" style={{ verticalAlign: '0.3rem' }}>
                                    {intl.formatMessage(messages.customReportCardTitle)}
                                </span>
                            </CardTitle>
                            <CardBody>
                                {intl.formatMessage(messages.customReportCardDescription)}
                            </CardBody>
                            <CardFooter>
                                <a onClick={showReportConfigModal}>{intl.formatMessage(messages.customReportCardButton)}</a>
                            </CardFooter>
                        </Card>
                    </GalleryItem>
                </Gallery>
            </Main>
            <ReportConfigModal isOpen={isModalOpen} onClose={hideReportConfigModal}/>
        </Page>
    );
};

export default ReportsPage;
