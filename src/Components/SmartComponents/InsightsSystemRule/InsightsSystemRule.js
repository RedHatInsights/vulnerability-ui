import React, { Fragment } from 'react';
import { Text, TextContent, TextVariants } from '@patternfly/react-core';
import PropType from 'prop-types';
import { FormattedMessage } from 'react-intl';
import { InsightsReportCard } from '@redhat-cloud-services/frontend-components-inventory-insights';
import { CSAwIcon } from '../../PresentationalComponents/CSAwIcon/CSAwIcon';
import messages from '../../../Messages';

export const InsightsSystemRule = ({ rule }) => {
    return (

        <Fragment>
            <TextContent className="icon-with-label">
                <Text component={TextVariants.h3}>
                    <CSAwIcon/> {rule.rule.description || rule.rule.rule_id}
                </Text>
            </TextContent>

            {
                rule ? <InsightsReportCard report={rule} /> : <InsightsNoSystemRule/>
            }
        </Fragment>

    );
};

InsightsSystemRule.propTypes = {
    rule: PropType.shape({
        rule: PropType.object,
        details: PropType.object,
        resulotion: PropType.object
    }).isRequired
};

export const InsightsNoSystemRule = () => {
    return <FormattedMessage {...messages.exposedSystemNoRules} />;
};
